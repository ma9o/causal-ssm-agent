# Causal Agent Pipeline Configuration

# Stage 1: Structure Proposal (Orchestrator)
# The orchestrator proposes dimensions, autocorrelations, time granularities, and DAG
stage1_structure_proposal:
  model: openrouter/anthropic/claude-opus-4.5
  sample_chunks: 10  # Number of chunks to show orchestrator
  chunk_size: 100    # Lines per chunk for orchestrator

# Stage 2: Dimension Population (Workers)
# Workers process chunks in parallel to populate dimensions and suggest graph edits
stage2_workers:
  model: openrouter/google/gemini-2.0-flash-001
  chunk_size: 20  # Lines per chunk for each worker

# Stage 3: Identifiability & Sensitivity Analysis
# Uses y0 (Pearl's ID algorithm) - no LLM needed

# Stage 4: Model Specification & Prior Elicitation
stage4_prior_elicitation:
  model: openrouter/anthropic/claude-opus-4.5
  # Literature search for grounding priors (requires EXA_API_KEY in .env)
  literature_search:
    enabled: true
    model: exa-research  # exa-research-fast, exa-research, or exa-research-pro
    timeout_ms: 120000   # Max time to wait for research completion

# Stage 5: Intervention Analysis
# Uses PyMC - no LLM needed
